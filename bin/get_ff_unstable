#!/bin/env python

"""This script aims to get the det_uids of the unstable detectors
in the flatfield

Usage:
>>> ./get_ff_unstable /scratch/gpfs/yilung/actpol_data_shared/FlatFields/s17/ff_pa4_s17_190902.dict
"""

from moby2.util import MobyDict
import numpy as np
import sys

# define the flatfield filename
flatfield = sys.argv[1]

# load the flatfield object
ff = MobyDict.from_file(flatfield)
det_uid = list(np.where(np.array(ff['stable']) == False)[0])
print("det_uid=%s" % det_uid)
